<!Doctype html>
<!--Autors: Andrejs Šorecs V1-->
<!--Autors: Mikus Tolkacevs V2-->
<html lang="lv">
    <head>
        <meta charset="UTF-8">
        
       <title>Moderna majaslapa</title> 
       <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
       <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
    </head>
    <body>
        <p>Localstorage tas ir datu glabasana jusu personala datora un pec vina izslegsanas dati joprojam bus glabati tikai dati nebus glabati ja jus izmantojat inkognito rezimu vai ja lietotajs iztiris visu browser history vai ja ir mazs vietas datora vai pats devoleper iztiris datus</p>
        <div class="container p-3 my-3 mt-3 bg-black text-white">
            <h3 class="text-center">Mani darbi</h3>
            <div class="card">
                <div class="card-content">
                    <div class="input-group">
                        <!--prioritates izveles un pievienosana-->
                        <select id="prioritate" class="form-select w-auto">
    <option value="secondary">Zema</option>
    <option value="warning">Vidēja</option>
    <option value="danger">Svarīgi</option>
                </select>
                
                <input id="ievads" type="text" class="form-control" placeholder="Ievadiet darbu....">
                <input type="button" class="btn btn-primary" onclick="Pievienosana()" value="Pievienot">
             
                </div>
                    <ul id="task-list" class="list-group"></ul>
                </div>
            </div>
        </div>
        
        <script>
        //prioritates un dzesanas
        function Pievienosana(){
    const teksts = document.getElementById("ievads").value;
    if(teksts === "") return;
    const krasa = document.getElementById("prioritate").value;
    const li = document.createElement("li");
    li.className = "list-group-item d-flex justify-content-between align-items-center";
        const kreisais = document.createElement("div");
    const badge = document.createElement("span");
    badge.className = "badge bg-" + krasa + " me-2";
    badge.innerText = document.getElementById("prioritate").options[document.getElementById("prioritate").selectedIndex].text;
    const tekstsSpan = document.createElement("span");
    tekstsSpan.innerText = teksts;
        tekstsSpan.onclick = function(){
    tekstsSpan.classList.toggle("text-decoration-line-through");
    saveData();
}
        kreisais.appendChild(badge);
        kreisais.appendChild(tekstsSpan);
        //dzest datus
    const dzest = document.createElement("button");
  dzest.classList.add("btn","btn-danger","float-end");
    dzest.innerText = "Dzēst";
    dzest.onclick = function(){
    li.remove();
    //saglaba datus pec dzesanas
    saveData();
}
// pievieno elementus sarakstam
    li.appendChild(kreisais);
    li.appendChild(dzest);
    document.getElementById("task-list").appendChild(li);
    
// notiras ievades lauks
    document.getElementById("ievads").value = "";
    // Saglaba datus
    saveData();
}
    // uztaisi localstorage par json
        function saveData(){
    localStorage.setItem("tasks", JSON.stringify(document.getElementById("task-list").innerHTML));
}
     // Ieladejas dati no localStorage
        function loadData(){
    const data = localStorage.getItem("tasks");
    if(data){
    document.getElementById("task-list").innerHTML = JSON.parse(data);
    }
 }
 // Ielaledajs visi dati kad atveras lapa
              loadData();
        </script>
    </body>
</html>